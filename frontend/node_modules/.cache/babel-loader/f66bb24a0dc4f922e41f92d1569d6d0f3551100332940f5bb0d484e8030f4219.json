{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function FarmerDashboard(){const[title,setTitle]=useState('');const[price,setPrice]=useState('');const[quantity,setQuantity]=useState('');const[products,setProducts]=useState([]);const fetchProducts=async()=>{const resp=await axios.get('/api/products');setProducts(resp.data||[]);};useEffect(()=>{fetchProducts();},[]);const add=async()=>{const token=localStorage.getItem('token');await axios.post('/api/products',{title,price:Number(price),quantity:Number(quantity)},{headers:{Authorization:'Bearer '+token}});setTitle('');setPrice('');setQuantity('');fetchProducts();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold\",children:\"Add Product\"}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 mt-2\",placeholder:\"Title\",value:title,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 mt-2\",placeholder:\"Price\",value:price,onChange:e=>setPrice(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 mt-2\",placeholder:\"Quantity\",value:quantity,onChange:e=>setQuantity(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-3 px-3 py-2 bg-indigo-600 text-white rounded\",onClick:add,children:\"Add\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"My Products\"}),products.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold\",children:p.title}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Price: \",p.price,\" Qty: \",p.quantity]})]},p._id))]})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","FarmerDashboard","title","setTitle","price","setPrice","quantity","setQuantity","products","setProducts","fetchProducts","resp","get","data","add","token","localStorage","getItem","post","Number","headers","Authorization","children","className","placeholder","value","onChange","e","target","onClick","map","p","_id"],"sources":["C:/Infosys-milestone3/frontend/src/pages/FarmerDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function FarmerDashboard(){\r\n  const [title,setTitle]=useState('');\r\n  const [price,setPrice]=useState('');\r\n  const [quantity,setQuantity]=useState('');\r\n  const [products,setProducts]=useState([]);\r\n\r\n  const fetchProducts = async ()=>{\r\n    const resp = await axios.get('/api/products');\r\n    setProducts(resp.data || []);\r\n  }\r\n  useEffect(()=>{ fetchProducts() },[]);\r\n\r\n  const add = async ()=>{\r\n    const token = localStorage.getItem('token');\r\n    await axios.post('/api/products',{ title, price: Number(price), quantity: Number(quantity) }, { headers: { Authorization: 'Bearer '+token }} );\r\n    setTitle(''); setPrice(''); setQuantity(''); fetchProducts();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"card mb-4\">\r\n        <h2 className=\"font-semibold\">Add Product</h2>\r\n        <input className=\"border p-2 mt-2\" placeholder=\"Title\" value={title} onChange={e=>setTitle(e.target.value)} />\r\n        <input className=\"border p-2 mt-2\" placeholder=\"Price\" value={price} onChange={e=>setPrice(e.target.value)} />\r\n        <input className=\"border p-2 mt-2\" placeholder=\"Quantity\" value={quantity} onChange={e=>setQuantity(e.target.value)} />\r\n        <button className=\"mt-3 px-3 py-2 bg-indigo-600 text-white rounded\" onClick={add}>Add</button>\r\n      </div>\r\n      <div>\r\n        <h3 className=\"font-semibold\">My Products</h3>\r\n        {products.map(p=> (\r\n          <div key={p._id} className=\"card mt-2\">\r\n            <div className=\"font-bold\">{p.title}</div>\r\n            <div>Price: {p.price} Qty: {p.quantity}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}