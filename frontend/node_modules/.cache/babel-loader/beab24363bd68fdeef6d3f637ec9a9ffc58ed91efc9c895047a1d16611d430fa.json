{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useContext}from'react';import{AuthContext}from'../AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const{login}=useContext(AuthContext);const handle=async()=>{try{const resp=await axios.post('/api/auth/login',{email,password});alert('Logged in: '+resp.data.user.name);login(resp.data.user,resp.data.token);}catch(e){var _e$response,_e$response$data;alert((e===null||e===void 0?void 0:(_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.message)||e.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 mt-2\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 mt-2\",type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-3 px-3 py-2 bg-blue-600 text-white rounded\",onClick:handle,children:\"Login\"})]});}","map":{"version":3,"names":["React","useState","axios","useContext","AuthContext","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","login","handle","resp","post","alert","data","user","name","token","e","_e$response","_e$response$data","response","message","className","children","placeholder","value","onChange","target","type","onClick"],"sources":["C:/Infosys-milestone3/frontend/src/pages/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useContext } from 'react';\r\nimport { AuthContext } from '../AuthContext';\r\n\r\nexport default function Login(){\r\n  const [email,setEmail]=useState('');\r\n  const [password,setPassword]=useState('');\r\n  const { login } = useContext(AuthContext);\r\n  const handle = async ()=>{\r\n    try{\r\n      const resp = await axios.post('/api/auth/login',{email,password});\r\n      alert('Logged in: '+resp.data.user.name);\r\n      login(resp.data.user, resp.data.token);\r\n    }catch(e){ alert(e?.response?.data?.message || e.message); }\r\n  }\r\n  return (\r\n    <div className=\"card\">\r\n      <h2 className=\"text-lg font-semibold\">Login</h2>\r\n      <input className=\"border p-2 mt-2\" placeholder=\"Email\" value={email} onChange={e=>setEmail(e.target.value)} />\r\n      <input className=\"border p-2 mt-2\" type=\"password\" placeholder=\"Password\" value={password} onChange={e=>setPassword(e.target.value)} />\r\n      <button className=\"mt-3 px-3 py-2 bg-blue-600 text-white rounded\" onClick={handle}>Login</button>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,WAAW,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAE,CAC7B,KAAM,CAACC,KAAK,CAACC,QAAQ,CAAC,CAACV,QAAQ,CAAC,EAAE,CAAC,CACnC,KAAM,CAACW,QAAQ,CAACC,WAAW,CAAC,CAACZ,QAAQ,CAAC,EAAE,CAAC,CACzC,KAAM,CAAEa,KAAM,CAAC,CAAGX,UAAU,CAACC,WAAW,CAAC,CACzC,KAAM,CAAAW,MAAM,CAAG,KAAAA,CAAA,GAAU,CACvB,GAAG,CACD,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAd,KAAK,CAACe,IAAI,CAAC,iBAAiB,CAAC,CAACP,KAAK,CAACE,QAAQ,CAAC,CAAC,CACjEM,KAAK,CAAC,aAAa,CAACF,IAAI,CAACG,IAAI,CAACC,IAAI,CAACC,IAAI,CAAC,CACxCP,KAAK,CAACE,IAAI,CAACG,IAAI,CAACC,IAAI,CAAEJ,IAAI,CAACG,IAAI,CAACG,KAAK,CAAC,CACxC,CAAC,MAAMC,CAAC,CAAC,KAAAC,WAAA,CAAAC,gBAAA,CAAEP,KAAK,CAAC,CAAAK,CAAC,SAADA,CAAC,kBAAAC,WAAA,CAADD,CAAC,CAAEG,QAAQ,UAAAF,WAAA,kBAAAC,gBAAA,CAAXD,WAAA,CAAaL,IAAI,UAAAM,gBAAA,iBAAjBA,gBAAA,CAAmBE,OAAO,GAAIJ,CAAC,CAACI,OAAO,CAAC,CAAE,CAC7D,CAAC,CACD,mBACEnB,KAAA,QAAKoB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBvB,IAAA,OAAIsB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,cAChDvB,IAAA,UAAOsB,SAAS,CAAC,iBAAiB,CAACE,WAAW,CAAC,OAAO,CAACC,KAAK,CAAErB,KAAM,CAACsB,QAAQ,CAAET,CAAC,EAAEZ,QAAQ,CAACY,CAAC,CAACU,MAAM,CAACF,KAAK,CAAE,CAAE,CAAC,cAC9GzB,IAAA,UAAOsB,SAAS,CAAC,iBAAiB,CAACM,IAAI,CAAC,UAAU,CAACJ,WAAW,CAAC,UAAU,CAACC,KAAK,CAAEnB,QAAS,CAACoB,QAAQ,CAAET,CAAC,EAAEV,WAAW,CAACU,CAAC,CAACU,MAAM,CAACF,KAAK,CAAE,CAAE,CAAC,cACvIzB,IAAA,WAAQsB,SAAS,CAAC,+CAA+C,CAACO,OAAO,CAAEpB,MAAO,CAAAc,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC9F,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}