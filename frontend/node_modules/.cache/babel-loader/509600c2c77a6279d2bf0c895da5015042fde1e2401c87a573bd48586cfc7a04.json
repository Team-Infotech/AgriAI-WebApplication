{"ast":null,"code":"import React,{useState}from'react';import api from'../api';import{useContext}from'react';import{AuthContext}from'../AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[role,setRole]=useState('buyer');const{login}=useContext(AuthContext);const handle=async()=>{try{const resp=await api.post('/api/auth/register',{name,email,password,role});alert('Registered: '+resp.data.user.name);login(resp.data.user,resp.data.token);}catch(e){var _e$response,_e$response$data;alert((e===null||e===void 0?void 0:(_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.message)||e.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:\"Register\"}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 mt-2\",placeholder:\"Name\",value:name,onChange:e=>setName(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 mt-2\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 mt-2\",type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{className:\"border p-2 mt-2\",value:role,onChange:e=>setRole(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"buyer\",children:\"Buyer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"farmer\",children:\"Farmer\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-3 px-3 py-2 bg-green-600 text-white rounded\",onClick:handle,children:\"Register\"})]});}","map":{"version":3,"names":["React","useState","api","useContext","AuthContext","jsx","_jsx","jsxs","_jsxs","Register","name","setName","email","setEmail","password","setPassword","role","setRole","login","handle","resp","post","alert","data","user","token","e","_e$response","_e$response$data","response","message","className","children","placeholder","value","onChange","target","type","onClick"],"sources":["C:/Infosys-milestone3/frontend/src/pages/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport api from '../api';\r\nimport { useContext } from 'react';\r\nimport { AuthContext } from '../AuthContext';\r\n\r\nexport default function Register(){\r\n  const [name,setName]=useState('');\r\n  const [email,setEmail]=useState('');\r\n  const [password,setPassword]=useState('');\r\n  const [role,setRole]=useState('buyer');\r\n  const { login } = useContext(AuthContext);\r\n  const handle = async ()=>{\r\n    try{\r\n  const resp = await api.post('/api/auth/register',{name,email,password,role});\r\n      alert('Registered: '+resp.data.user.name);\r\n      login(resp.data.user, resp.data.token);\r\n    }catch(e){ alert(e?.response?.data?.message || e.message); }\r\n  }\r\n  return (\r\n    <div className=\"card\">\r\n      <h2 className=\"text-lg font-semibold\">Register</h2>\r\n      <input className=\"border p-2 mt-2\" placeholder=\"Name\" value={name} onChange={e=>setName(e.target.value)} />\r\n      <input className=\"border p-2 mt-2\" placeholder=\"Email\" value={email} onChange={e=>setEmail(e.target.value)} />\r\n      <input className=\"border p-2 mt-2\" type=\"password\" placeholder=\"Password\" value={password} onChange={e=>setPassword(e.target.value)} />\r\n      <select className=\"border p-2 mt-2\" value={role} onChange={e=>setRole(e.target.value)}>\r\n        <option value=\"buyer\">Buyer</option>\r\n        <option value=\"farmer\">Farmer</option>\r\n      </select>\r\n      <button className=\"mt-3 px-3 py-2 bg-green-600 text-white rounded\" onClick={handle}>Register</button>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}